<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lotería Mexicana</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Lobster&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        background-color: #fdfbf7;
        font-family: "Inter", sans-serif;
      }
      .card {
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s, box-shadow 0.2s;
      }
      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
      }
      .card-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 0.5rem;
      }
      .marked::after {
        content: "X";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 5rem;
        color: rgba(220, 38, 38, 0.8);
        font-weight: bold;
        backdrop-filter: blur(2px) grayscale(50%);
      }
      .modal-background {
        background-color: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(4px);
      }
    </style>
  </head>
  <body class="text-gray-800">
    <div id="app" class="container mx-auto p-4 md:p-8">
      <header class="text-center mb-8">
        <h1
          class="text-5xl md:text-7xl font-bold text-amber-800"
          style="font-family: 'Lobster', cursive"
        >
          Lotería Mexicana
        </h1>
        <p class="text-gray-600 mt-2">Un juego para toda la familia</p>
      </header>

      <!-- VISTA DE CONFIGURACIÓN -->
      <section id="setup-view">
        <div
          class="max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-lg border border-gray-200"
        >
          <h2 class="text-2xl font-bold text-center text-amber-700 mb-6">
            Configuración del Juego
          </h2>
          <div class="mb-4">
            <label
              for="player-count"
              class="block text-sm font-medium text-gray-700 mb-2"
              >¿Cuántas cartillas quieres generar?</label
            >
            <input
              type="number"
              id="player-count"
              min="1"
              max="10"
              value="2"
              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500"
            />
          </div>
          <button
            id="generate-names-btn"
            class="w-full bg-amber-600 text-white py-3 rounded-lg font-bold hover:bg-amber-700 transition-colors"
          >
            Crear Jugadores
          </button>
          <div id="player-names-container" class="mt-6"></div>
          <button
            id="start-game-btn"
            class="w-full bg-emerald-600 text-white py-3 rounded-lg font-bold hover:bg-emerald-700 transition-colors mt-4 hidden"
          >
            ¡A Jugar!
          </button>
        </div>
      </section>

      <!-- VISTA DE JUEGO -->
      <section id="game-view" class="hidden">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div
            class="md:col-span-1 bg-white p-6 rounded-xl shadow-lg border border-gray-200 flex flex-col items-center"
          >
            <h2 class="text-2xl font-bold text-amber-700 mb-4">El Cantor</h2>
            <div
              id="current-card-container"
              class="w-full max-w-[200px] mx-auto bg-gray-100 rounded-lg flex items-center justify-center p-2 mb-4"
            >
              <span class="text-gray-500">Esperando...</span>
            </div>
            <p class="text-sm text-gray-600">
              Cartas restantes: <span id="deck-count">54</span>
            </p>
            <button
              id="call-card-btn"
              class="w-full bg-sky-600 text-white py-3 rounded-lg font-bold hover:bg-sky-700 transition-colors mt-auto"
            >
              ¡Corre y se va!
            </button>
          </div>
          <div class="md:col-span-3">
            <h2 class="text-3xl font-bold text-center mb-6 text-amber-800">
              Cartillas en Juego
            </h2>
            <div
              id="boards-container"
              class="grid grid-cols-1 lg:grid-cols-2 gap-6"
            ></div>
          </div>
        </div>
      </section>

      <!-- MODAL DE GANADOR -->
      <div
        id="winner-modal"
        class="hidden fixed inset-0 flex items-center justify-center p-4 modal-background"
      >
        <div
          id="winner-modal-content"
          class="bg-white max-w-lg w-full rounded-xl shadow-2xl p-8 text-center transform transition-all scale-95 opacity-0"
        >
          <h2
            class="text-5xl font-bold text-amber-700"
            style="font-family: 'Lobster', cursive"
          >
            ¡Lotería!
          </h2>
          <p class="text-2xl mt-4">El ganador es:</p>
          <p
            id="winner-name"
            class="text-4xl font-extrabold text-emerald-600 my-4"
          ></p>
          <div
            id="winning-board"
            class="grid grid-cols-2 gap-2 max-w-xs mx-auto my-6 p-2 bg-amber-100 border-4 border-amber-500 rounded-lg"
          ></div>
          <button
            id="restart-game-btn"
            class="w-full bg-amber-600 text-white py-3 rounded-lg font-bold hover:bg-amber-700 transition-colors"
          >
            Jugar de Nuevo
          </button>
        </div>
      </div>

      <!-- MODAL DE VISTA INDIVIDUAL -->
      <div
        id="single-board-modal"
        class="hidden fixed inset-0 flex items-center justify-center p-4 modal-background"
      >
        <div
          id="single-board-modal-content"
          class="bg-white max-w-xl w-full rounded-xl shadow-2xl p-8 text-center transform transition-all scale-95 opacity-0"
        >
          <h2
            id="single-board-player-name"
            class="text-3xl font-bold text-amber-800 mb-6"
          ></h2>
          <div
            id="single-board-display"
            class="grid grid-cols-2 gap-4 max-w-md mx-auto my-6 p-4 bg-gray-50 border-2 border-gray-200 rounded-lg"
          ></div>
          <button
            id="close-single-board-btn"
            class="w-1/2 mx-auto bg-gray-600 text-white py-3 rounded-lg font-bold hover:bg-gray-700 transition-colors"
          >
            Cerrar
          </button>
        </div>
      </div>
    </div>

    <!-- Llama a nuestro script principal -->
    <script src="main.js"></script>
  </body>
</html>
